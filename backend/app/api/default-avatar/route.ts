import { NextRequest, NextResponse } from 'next/server';

// Base64 encodé d'une icône utilisateur
const AVATAR_BASE64 = 'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF8WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIGV4aWY6UGl4ZWxYRGltZW5zaW9uPSI2NCIgZXhpZjpQaXhlbFlEaW1lbnNpb249IjY0IiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMy0wOS0wN1QxNDozMzoyOSswMTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjMtMDktMDdUMTQ6MzQ6NDgrMDE6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjMtMDktMDdUMTQ6MzQ6NDgrMDE6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0y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';

export async function GET(req: NextRequest) {
  // Décodage de l'image en base64
  const imageBuffer = Buffer.from(AVATAR_BASE64, 'base64');
  
  // Retourner l'image
  return new NextResponse(imageBuffer, {
    status: 200,
    headers: {
      'Content-Type': 'image/png',
      'Cache-Control': 'public, max-age=31536000', // Cache pendant 1 an
      'Access-Control-Allow-Origin': '*'
    }
  });
} 